<%- content_for :head do -%>
  <%= javascript_include_tag("jquery.raty.js") %>
  <%= javascript_tag(%(
    jQuery(document).ready(function($){
      $('div#rating_stars').raty({
        path: '/images/',
        readOnly: #{defined?(edit_enabled) ? 'false' : 'true'},
        hintList: ['#{t('rating_titles.bad', :default => 'bad')}', '#{t('rating_titles.poor', :default => 'poor')}', '#{t('rating_titles.regular', :default => 'regular')}', '#{t('rating_titles.good', :default => 'good')}', '#{t('rating_titles.gorgeous', :default => 'gorgeous')}'],
        click: function(score, evt) {
          $('#product_review_rating').val(score);
        }
      });
    });
  )) %>
<%- end -%>

<%- name = defined?(edit_enabled) ? "review[rating]" : defined?(review).nil? ? Time.now.tv_usec.to_s : "review_#{review}" -%>
<div id="rating_stars"></div>
<input name="<%= name -%>" type="hidden" id="product_review_rating" />
